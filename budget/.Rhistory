# x <- BudgetFun(tot = 300000,
#           n.messages = 1,
#           cost.eip.mail = 2.00,
#           cost.post.eip.mail = 1.50,
#           phone.contact = 10,
#           n.interviews = 2000,
#           phone.cost = 4.00,
#           effect.without.eip = 3.5,
#           effect.with.eip.1 = 10,
#           effect.with.eip.2 = 13)
BudgetFun <- function(tot,
n.messages = 1,
cost.eip.mail = 2.00,
cost.post.eip.mail = 1.50,
phone.contact = 10,
n.interviews = 2000,
phone.cost = 4.00,
effect.without.eip = 3.5,
effect.with.eip.1 = 10,
effect.with.eip.2 = 13){
# SPREADSHEET COPY
b4 <- tot
b5 <- n.messages
b10 <- cost.eip.mail
b11 <- cost.post.eip.mail
b13 <- phone.contact/100
b14 <- n.interviews
b15 <- phone.cost
b18 <- effect.without.eip/100
b19 <- effect.with.eip.1/100
b20 <- effect.with.eip.2/100
#
b16 <- b14/b13
# WITHOUT EIP
b25 <- b4
b26 <- b25 / b11
b27 <- b26 * b18
# WITH EIP
b30 <- b4
b31 <- b16*b5*b10
b32 <- b16*(b5+1)*b13*b15
b33 <- 15250
b34 <- b30 - sum(c(b31, b32, b33))
b35 <- b34/ b11
b36 <- ifelse(b5 == 1,
(b35*b19)+(b16*b18),
(b35*b20)+(b16*b5*b18))
#
b38 <- (b36-b27)/b27*100
#########
myNames <- c("b16",
"b25",
"b26",
"b27",
#####
"b30",
"b31",
"b32",
"b33",
"b34",
"b35",
"b36",
"b38")
myFullNames <- c("Number of mail targets per condition: ",
"Total budget: ",
"Number of targets afforded: ",
"Persuaded voters: ",
#####
"Total budget: ",
"Total cost of EIP mail: ",
"Total cost of phone surveys: ",
"Total cost of analysis and roboscreen: ",
"Total budget after EIP",
"Number of targets afforded post-EIP",
"Persuaded voters: ",
"Percent increase in persuaded voters: ")
myValues <- c(b16,
b25,
b26,
b27,
#####
b30,
b31,
b32,
b33,
b34,
b35,
b36,
b38)
#x <- as.list(setNames(myValues, myNames))
#return(x)
cat(paste(myFullNames, myValues, "\n"))
}
# x <- BudgetFun(tot = 300000,
#           n.messages = 1,
#           cost.eip.mail = 2.00,
#           cost.post.eip.mail = 1.50,
#           phone.contact = 10,
#           n.interviews = 2000,
#           phone.cost = 4.00,
#           effect.without.eip = 3.5,
#           effect.with.eip.1 = 10,
#           effect.with.eip.2 = 13)
runApp()
runApp()
source("BudgetFun.R")
source("BudgetFun.R")
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps')
setwd("c:/users/brewjr/documents/ShinyApps/budget")
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
BudgetFun <- function(tot,
n.messages = 1,
cost.eip.mail = 2.00,
cost.post.eip.mail = 1.50,
phone.contact = 10,
n.interviews = 2000,
phone.cost = 4.00,
effect.without.eip = 3.5,
effect.with.eip.1 = 10,
effect.with.eip.2 = 13){
# SPREADSHEET COPY
b4 <- tot
b5 <- n.messages
b10 <- cost.eip.mail
b11 <- cost.post.eip.mail
b13 <- phone.contact/100
b14 <- n.interviews
b15 <- phone.cost
b18 <- effect.without.eip/100
b19 <- effect.with.eip.1/100
b20 <- effect.with.eip.2/100
#
b16 <- b14/b13
# WITHOUT EIP
b25 <- b4
b26 <- b25 / b11
b27 <- b26 * b18
# WITH EIP
b30 <- b4
b31 <- b16*b5*b10
b32 <- b16*(b5+1)*b13*b15
b33 <- 15250
b34 <- b30 - sum(c(b31, b32, b33))
b35 <- b34/ b11
b36 <- ifelse(b5 == 1,
(b35*b19)+(b16*b18),
(b35*b20)+(b16*b5*b18))
#
b38 <- (b36-b27)/b27*100
#########
myNames <- c("b4",
"b5",
"b10",
"b11",
"b13",
"b14",
"b15",
"b16",
"b18",
"b19",
"b20",
"b25",
"b26",
"b27",
#####
"b30",
"b31",
"b32",
"b33",
"b34",
"b35",
"b36",
"b38")
myFullNames <- c("Total budget",
"Number of messages (treatment conditions)",
"Cost of EIP mail per target",
"Cost of post-EIP mail per target",
"Phone survey contact rate",
"Number of interviews per condition",
"Cost of phone survey per complete",
"Number of mail targets per condition: ",
"Persuasive effect of mail without EIP",
"Persuasive effect of mail with targeting EIP (one treatment)",
"Persusasive effect of mail with messaging EIP (2 + treatments)",
"Total budget: ",
"Number of targets afforded: ",
"Persuaded voters: ",
#####
"Total budget: ",
"Total cost of EIP mail: ",
"Total cost of phone surveys: ",
"Total cost of analysis and roboscreen: ",
"Total budget after EIP",
"Number of targets afforded post-EIP",
"Persuaded voters: ",
"Percent increase in persuaded voters: ")
myValues <- c(b4,
b5,
b10,
b11,
b13*100,
b14,
b15,
b16,
b18*100,
b19*100,
b20*100,
b25,
b26,
b27,
#####
b30,
b31,
b32,
b33,
b34,
b35,
b36,
b38)
#x <- as.list(setNames(myValues, myNames))
#return(x)
#paste(myFullNames, myValues, "\n")
x <- as.data.frame(cbind(myFullNames, myValues))
x$myValues <- as.numeric(as.character(x$myValues))
x$myValues <- round(x$myValues, digits=2)
names(x) <- c(" ", " ")
return(x)
}
# x <- BudgetFun(tot = 300000,
#           n.messages = 1,
#           cost.eip.mail = 2.00,
#           cost.post.eip.mail = 1.50,
#           phone.contact = 10,
#           n.interviews = 2000,
#           phone.cost = 4.00,
#           effect.without.eip = 3.5,
#           effect.with.eip.1 = 10,
#           effect.with.eip.2 = 13)
BudgetFunList <- function(tot,
n.messages = 1,
cost.eip.mail = 2.00,
cost.post.eip.mail = 1.50,
phone.contact = 10,
n.interviews = 2000,
phone.cost = 4.00,
effect.without.eip = 3.5,
effect.with.eip.1 = 10,
effect.with.eip.2 = 13){
# SPREADSHEET COPY
b4 <- tot
b5 <- n.messages
b10 <- cost.eip.mail
b11 <- cost.post.eip.mail
b13 <- phone.contact/100
b14 <- n.interviews
b15 <- phone.cost
b18 <- effect.without.eip/100
b19 <- effect.with.eip.1/100
b20 <- effect.with.eip.2/100
#
b16 <- b14/b13
# WITHOUT EIP
b25 <- b4
b26 <- b25 / b11
b27 <- b26 * b18
# WITH EIP
b30 <- b4
b31 <- b16*b5*b10
b32 <- b16*(b5+1)*b13*b15
b33 <- 15250
b34 <- b30 - sum(c(b31, b32, b33))
b35 <- b34/ b11
b36 <- ifelse(b5 == 1,
(b35*b19)+(b16*b18),
(b35*b20)+(b16*b5*b18))
#
b38 <- (b36-b27)/b27*100
#########
myNames <- c("b4",
"b5",
"b10",
"b11",
"b13",
"b14",
"b15",
"b16",
"b18",
"b19",
"b20",
"b25",
"b26",
"b27",
#####
"b30",
"b31",
"b32",
"b33",
"b34",
"b35",
"b36",
"b38")
myFullNames <- c("Total budget",
"Number of messages (treatment conditions)",
"Cost of EIP mail per target",
"Cost of post-EIP mail per target",
"Phone survey contact rate",
"Number of interviews per condition",
"Cost of phone survey per complete",
"Number of mail targets per condition: ",
"Persuasive effect of mail without EIP",
"Persuasive effect of mail with targeting EIP (one treatment)",
"Persusasive effect of mail with messaging EIP (2 + treatments)",
"Total budget: ",
"Number of targets afforded: ",
"Persuaded voters: ",
#####
"Total budget: ",
"Total cost of EIP mail: ",
"Total cost of phone surveys: ",
"Total cost of analysis and roboscreen: ",
"Total budget after EIP",
"Number of targets afforded post-EIP",
"Persuaded voters: ",
"Percent increase in persuaded voters: ")
myValues <- c(b4,
b5,
b10,
b11,
b13*100,
b14,
b15,
b16,
b18*100,
b19*100,
b20*100,
b25,
b26,
b27,
#####
b30,
b31,
b32,
b33,
b34,
b35,
b36,
b38)
x <- as.list(setNames(myValues, myNames))
return(x)
#   #paste(myFullNames, myValues, "\n")
#   x <- as.data.frame(cbind(myFullNames, myValues))
#   x$myValues <- as.numeric(as.character(x$myValues))
#   x$myValues <- round(x$myValues, digits=2)
#   names(x) <- c(" ", " ")
#   return(x)
}
x <- BudgetFunList(tot = as.numeric(input$b4),
n.messages = input$b5,
cost.eip.mail = input$b10,
cost.post.eip.mail = input$b11,
phone.contact = input$b13,
n.interviews = as.numeric(input$b14),
phone.cost = input$b15,
effect.without.eip = input$b18,
effect.with.eip.1 = input$b19,
effect.with.eip.2 = input$b20)
x <- BudgetFunList(tot = 300000)
x$b38
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
library(RColorBrewer)
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
library(shinyapps)
library(shinyapps)
shinyapps::setAccountInfo(
name="joebrew",
token="C4D0E22C484D74139A50EDE2BA1887F4",
secret="zbbeauXf53w0Qnpxcx1RREIdIUJAaRaVjZLcN/Id")
##################
# RUN
##################
setwd("c:/users/brewjr/documents/ShinyApps/budget")
library(shiny)
runApp()
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
#################
# PRE SESSION
#################
# TUTORIAL: http://shiny.rstudio.com/articles/shinyapps.html
#devtools::install_github('rstudio/shinyapps')
library(shinyapps)
shinyapps::setAccountInfo(
name="joebrew",
token="C4D0E22C484D74139A50EDE2BA1887F4",
secret="zbbeauXf53w0Qnpxcx1RREIdIUJAaRaVjZLcN/Id")
##################
# RUN
##################
setwd("c:/users/brewjr/documents/ShinyApps/budget")
library(shiny)
runApp()
###################
library(shiny)
deployApp()
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
shiny::runApp('~/ShinyApps/budget')
#devtools::install_github('rstudio/shinyapps')
library(shinyapps)
shinyapps::setAccountInfo(
name="joebrew",
token="C4D0E22C484D74139A50EDE2BA1887F4",
secret="zbbeauXf53w0Qnpxcx1RREIdIUJAaRaVjZLcN/Id")
deployApp()
shiny::runApp()
# TUTORIAL: http://shiny.rstudio.com/articles/shinyapps.html
#devtools::install_github('rstudio/shinyapps')
library(shinyapps)
shinyapps::setAccountInfo(
name="joebrew",
token="C4D0E22C484D74139A50EDE2BA1887F4",
secret="zbbeauXf53w0Qnpxcx1RREIdIUJAaRaVjZLcN/Id")
##################
# RUN
##################
setwd("c:/users/brewjr/documents/ShinyApps/budget")
deployApp()
