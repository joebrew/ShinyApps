{
    "contents" : "library(RColorBrewer)\n\nBudgetFun <- function(tot,\n                      n.messages = 1, \n                      cost.eip.mail = 2.00,\n                      cost.post.eip.mail = 1.50,\n                      phone.contact = 10,\n                      n.interviews = 2000,\n                      phone.cost = 4.00,\n                      effect.without.eip = 3.5,\n                      effect.with.eip.1 = 10,\n                      effect.with.eip.2 = 13){\n  \n  # SPREADSHEET COPY\n  b4 <- tot\n  b5 <- n.messages\n  b10 <- cost.eip.mail\n  b11 <- cost.post.eip.mail\n  b13 <- phone.contact/100\n  b14 <- n.interviews\n  b15 <- phone.cost\n  b18 <- effect.without.eip/100\n  b19 <- effect.with.eip.1/100\n  b20 <- effect.with.eip.2/100\n  \n  #\n  b16 <- b14/b13\n  \n  # WITHOUT EIP\n  b25 <- b4\n  b26 <- b25 / b11\n  b27 <- b26 * b18\n  \n  # WITH EIP\n  b30 <- b4\n  b31 <- b16*b5*b10\n  b32 <- b16*(b5+1)*b13*b15\n  b33 <- 15250\n  b34 <- b30 - sum(c(b31, b32, b33))\n  b35 <- b34/ b11\n  b36 <- ifelse(b5 == 1,\n                (b35*b19)+(b16*b18),\n                (b35*b20)+(b16*b5*b18))\n  \n  #\n  b38 <- (b36-b27)/b27*100\n  \n  #########\n  myNames <- c(\"b4\",\n               \"b5\",\n               \"b10\",\n               \"b11\",\n               \"b13\",\n               \"b14\",\n               \"b15\",\n               \"b16\",\n               \"b18\",\n               \"b19\",\n               \"b20\",\n               \"b25\",\n               \"b26\",\n               \"b27\",\n               #####\n               \"b30\",\n               \"b31\",\n               \"b32\",\n               \"b33\",\n               \"b34\",\n               \"b35\",\n               \"b36\",\n               \"b38\")\n  \n  myFullNames <- c(\"Total budget\",\n                   \"Number of messages (treatment conditions)\",\n                   \"Cost of EIP mail per target\",\n                   \"Cost of post-EIP mail per target\",\n                   \"Phone survey contact rate\",\n                   \"Number of interviews per condition\",\n                   \"Cost of phone survey per complete\",\n                   \"Number of mail targets per condition: \",\n                   \"Persuasive effect of mail without EIP\",\n                   \"Persuasive effect of mail with targeting EIP (one treatment)\",\n                   \"Persusasive effect of mail with messaging EIP (2 + treatments)\",\n                   \"Total budget: \",\n                   \"Number of targets afforded: \",\n                   \"Persuaded voters: \",\n                   #####\n                   \"Total budget: \",\n                   \"Total cost of EIP mail: \",\n                   \"Total cost of phone surveys: \",\n                   \"Total cost of analysis and roboscreen: \",\n                   \"Total budget after EIP\",\n                   \"Number of targets afforded post-EIP\",\n                   \"Persuaded voters: \",\n                   \"Percent increase in persuaded voters: \")\n  \n  myValues <- c(b4,\n                b5,\n                b10,\n                b11,\n                b13*100,\n                b14,\n                b15,\n                b16,\n                b18*100,\n                b19*100,\n                b20*100,\n                b25,\n                b26,\n                b27,\n                #####\n                b30,\n                b31,\n                b32,\n                b33,\n                b34,\n                b35,\n                b36,\n                b38)\n  #x <- as.list(setNames(myValues, myNames))\n  #return(x)\n  \n  #paste(myFullNames, myValues, \"\\n\")\n  x <- as.data.frame(cbind(myFullNames, myValues))\n  x$myValues <- as.numeric(as.character(x$myValues))\n  x$myValues <- round(x$myValues, digits=2)\n  names(x) <- c(\" \", \" \")\n  return(x)\n  \n}\n\n# x <- BudgetFun(tot = 300000,\n#           n.messages = 1, \n#           cost.eip.mail = 2.00,\n#           cost.post.eip.mail = 1.50,\n#           phone.contact = 10,\n#           n.interviews = 2000,\n#           phone.cost = 4.00,\n#           effect.without.eip = 3.5,\n#           effect.with.eip.1 = 10,\n#           effect.with.eip.2 = 13)\n\n\n\nBudgetFunList <- function(tot,\n                      n.messages = 1, \n                      cost.eip.mail = 2.00,\n                      cost.post.eip.mail = 1.50,\n                      phone.contact = 10,\n                      n.interviews = 2000,\n                      phone.cost = 4.00,\n                      effect.without.eip = 3.5,\n                      effect.with.eip.1 = 10,\n                      effect.with.eip.2 = 13){\n  \n  # SPREADSHEET COPY\n  b4 <- tot\n  b5 <- n.messages\n  b10 <- cost.eip.mail\n  b11 <- cost.post.eip.mail\n  b13 <- phone.contact/100\n  b14 <- n.interviews\n  b15 <- phone.cost\n  b18 <- effect.without.eip/100\n  b19 <- effect.with.eip.1/100\n  b20 <- effect.with.eip.2/100\n  \n  #\n  b16 <- b14/b13\n  \n  # WITHOUT EIP\n  b25 <- b4\n  b26 <- b25 / b11\n  b27 <- b26 * b18\n  \n  # WITH EIP\n  b30 <- b4\n  b31 <- b16*b5*b10\n  b32 <- b16*(b5+1)*b13*b15\n  b33 <- 15250\n  b34 <- b30 - sum(c(b31, b32, b33))\n  b35 <- b34/ b11\n  b36 <- ifelse(b5 == 1,\n                (b35*b19)+(b16*b18),\n                (b35*b20)+(b16*b5*b18))\n  \n  #\n  b38 <- (b36-b27)/b27*100\n  \n  #########\n  myNames <- c(\"b4\",\n               \"b5\",\n               \"b10\",\n               \"b11\",\n               \"b13\",\n               \"b14\",\n               \"b15\",\n               \"b16\",\n               \"b18\",\n               \"b19\",\n               \"b20\",\n               \"b25\",\n               \"b26\",\n               \"b27\",\n               #####\n               \"b30\",\n               \"b31\",\n               \"b32\",\n               \"b33\",\n               \"b34\",\n               \"b35\",\n               \"b36\",\n               \"b38\")\n  \n  myFullNames <- c(\"Total budget\",\n                   \"Number of messages (treatment conditions)\",\n                   \"Cost of EIP mail per target\",\n                   \"Cost of post-EIP mail per target\",\n                   \"Phone survey contact rate\",\n                   \"Number of interviews per condition\",\n                   \"Cost of phone survey per complete\",\n                   \"Number of mail targets per condition: \",\n                   \"Persuasive effect of mail without EIP\",\n                   \"Persuasive effect of mail with targeting EIP (one treatment)\",\n                   \"Persusasive effect of mail with messaging EIP (2 + treatments)\",\n                   \"Total budget: \",\n                   \"Number of targets afforded: \",\n                   \"Persuaded voters: \",\n                   #####\n                   \"Total budget: \",\n                   \"Total cost of EIP mail: \",\n                   \"Total cost of phone surveys: \",\n                   \"Total cost of analysis and roboscreen: \",\n                   \"Total budget after EIP\",\n                   \"Number of targets afforded post-EIP\",\n                   \"Persuaded voters: \",\n                   \"Percent increase in persuaded voters: \")\n  \n  myValues <- c(b4,\n                b5,\n                b10,\n                b11,\n                b13*100,\n                b14,\n                b15,\n                b16,\n                b18*100,\n                b19*100,\n                b20*100,\n                b25,\n                b26,\n                b27,\n                #####\n                b30,\n                b31,\n                b32,\n                b33,\n                b34,\n                b35,\n                b36,\n                b38)\n  x <- as.list(setNames(myValues, myNames))\n  return(x)\n  \n#   #paste(myFullNames, myValues, \"\\n\")\n#   x <- as.data.frame(cbind(myFullNames, myValues))\n#   x$myValues <- as.numeric(as.character(x$myValues))\n#   x$myValues <- round(x$myValues, digits=2)\n#   names(x) <- c(\" \", \" \")\n#   return(x)\n  \n}\n",
    "created" : 1407954602441.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2376375015",
    "id" : "509BC6E7",
    "lastKnownWriteTime" : 1407964725,
    "path" : "~/ShinyApps/budget/BudgetFun.R",
    "project_path" : "BudgetFun.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}