{
    "contents" : "# Universe size (total n)\n# total.n \n\n# Outcome collection rate (%) (e.g., survey response rate)\n# dv.variable.contact.rate\n\n# Percent (%) in treatment group\n# percent.in.treatment\n\n# Turnout/support/action rate in control (%)\n# baseline.action.support.rate\n\n# Contact (i.e., treatment application) rate (%)\n# treatment.application.rate\n\n# Predictive power of individual-level covariates (R-squared)\n# r.squared\n\n# Desired power of experiment\n# power\n\n# Confidence interval to use (2-tailed)\n# confidence.interval\n\n# Show details\n# checkbox\n\nPowerFun<- function(total.n = 20000, \n                    dv.variable.contact.rate = 100,\n                    percent.in.treatment = 50,\n                    baseline.action.support.rate = 50,\n                    treatment.application.rate = 100,\n                    r.squared = 0,\n                    power = 80,\n                    confidence.interval = 90,\n                    #number.of.clusters = 1,\n                    #intra.cluster.correlation.coefficient = 0.1,\n                    checkbox = FALSE){\n  \n  # SPREADSHEET CONVERSION\n  b3 <- as.numeric(total.n) \n  b4 <- as.numeric(dv.variable.contact.rate / 100)\n  b7 <- as.numeric(percent.in.treatment / 100)\n  b8 <- as.numeric(baseline.action.support.rate / 100)\n  b9 <- as.numeric(treatment.application.rate / 100)\n  b11 <- as.numeric(r.squared)\n  b12 <- as.numeric(power / 100)\n  b13 <- as.numeric(confidence.interval / 100)\n  #b19 <- as.numeric(number.of.clusters)\n  #b21 <- as.numeric(intra.cluster.correlation.coefficient)\n  \n  # SPREADSHEET CALCULATIONS\n  b5 <- b3*b4\n  b14 <- sqrt((((b8*(1-b8))*(1-b11))/((b7*(1-b7))*b5)))\n  b16 <- (qnorm(b12) + qnorm(((b13/2)+0.5)))*b14\n  b17 <- b16/b9\n  #b20 <- b3/b19\n  #b22 <- sqrt((1+((b20-1)*b21)))\n  #b23 <- b14*b22\n  #b25 <- (qnorm(b12) + qnorm(((b13/2) + 0.5)))*b23\n  #b26 <- b25 / b9\n  \n  # MY NAMES\n  myNames <- c(\"b3\", \"b4\", \"b5\",\n               \"b7\", \"b8\", \"b9\",\n               \"b11\", \"b12\", \"b13\", \"b14\",\n               \"b16\", \"b17\")#, \n  #\"b19\", \"b20\", \"b21\",\n  #\"b22\", \"b23\", \"b25\", \"b26\")\n  \n  # MY VALUES\n  myValues <- c(b3, b4, b5,\n                b7, b8, b9,\n                b11, b12, b13, b14,\n                b16, b17)#, \n  #b19, b20, b21,\n  #b22, b23, b25, b26)\n  \n  # MY FULL NAMES\n  myFullNames <- c(\"total.n\", \"dv.variable.contact.rate\", \"Number.of.outcome.measurements\",\n                   \"percent.in.treatment\", \"baseline.action.support.rate\", \"treatment.application.rate\",\n                   \"r.squared\", \"power\", \"confidence.interval\", \"S.E.\",\n                   \"ITT.MDE\", \"TOT.MDE\")#, \n  #\"number.of.clusters\", \"Average.cluster.size\", \"intra.cluster.correlation.coefficient\",\n  #\"Square.root.of.variance.inflation.factor\", \"Adjusted.S.E.\", \"Adj.ITT.MDE\", \"Adj.TOT.MDE\")\n  \n  #   # BIND INTO DATAFRAME\n  \n  x <- data.frame(myNames)\n  names(x) <- \"myNames\"\n  x$myValues <- myValues\n  \n  \n  # x <- myValues\n  # names(x) <- myNames\n  # x <- data.frame(x)\n  \n  #   x <- as.data.frame(rbind(myValues))\n  #    names(x) <- myNames\n  #   #x <- as.data.frame(rbind(myFullNames,  myValues))\n  #   \n  #   # RETURN\n  return(x)\n  \n  # setNames(x, myNames)\n  \n  \n  # # BIND INTO LIST\n  # \n  # x <- as.list(setNames(myValues, myNames))\n  \n  \n  \n}\n\n#   \n# \n# x <- PowerFun(total.n = 20000, \n#          dv.variable.contact.rate = 100,\n#          percent.in.treatment = 50,\n#          baseline.action.support.rate = 50,\n#          treatment.application.rate = 100,\n#          r.squared = 0,\n#          power = 80,\n#          confidence.interval = 90,\n#          number.of.clusters = 1,\n#          intra.cluster.correlation.coefficient = 0.1,\n#          checkbox = FALSE)\n\n#   \n# ",
    "created" : 1408555345775.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "911887615",
    "id" : "2B5D6E33",
    "lastKnownWriteTime" : 1408555359,
    "path" : "~/ShinyApps/powercalc/PowerFun.R",
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}